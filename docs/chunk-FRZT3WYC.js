import{M as a,a as n,b as r,ea as c}from"./chunk-AC72JVPI.js";var m=class o{notificationsSignal=c([]);notifications=this.notificationsSignal.asReadonly();autoDismissTimers=new Map;closingTimers=new Map;closingDuration=250;lastId=0;show(i,s,t=3500){let e=++this.lastId,u={id:e,type:i,message:s,duration:t};this.notificationsSignal.update(l=>[...l,u]),this.scheduleAutoDismiss(e,t)}success(i,s){this.show("success",i,s)}error(i,s){this.show("error",i,s)}info(i,s){this.show("info",i,s)}dismiss(i){if(this.closingTimers.has(i))return;this.clearAutoTimer(i),this.notificationsSignal.update(t=>t.map(e=>e.id===i?r(n({},e),{closing:!0}):e));let s=setTimeout(()=>{this.notificationsSignal.update(t=>t.filter(e=>e.id!==i)),this.closingTimers.delete(i)},this.closingDuration);this.closingTimers.set(i,s)}clear(){this.notificationsSignal().forEach(i=>this.dismiss(i.id))}scheduleAutoDismiss(i,s){let t=setTimeout(()=>this.dismiss(i),s);this.autoDismissTimers.set(i,t)}clearAutoTimer(i){let s=this.autoDismissTimers.get(i);s&&(clearTimeout(s),this.autoDismissTimers.delete(i))}static \u0275fac=function(s){return new(s||o)};static \u0275prov=a({token:o,factory:o.\u0275fac,providedIn:"root"})};export{m as a};
